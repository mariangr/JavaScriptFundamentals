<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
</head>
<body>
    <script>
        function PersonBuilder(firstName, lastName, age) {
            return {
                firstName: firstName,
                lastName: lastName,
                age: age * 1,
            }
        }

        function Group(persons, groupBy) {
            if (groupBy == undefined) {
                for (var i = 0; i < persons.length; i++) {
                    var temp = PersonBuilder(persons[i].firstName, persons[i].lastName, persons[i].age);
                    document.write(temp.firstName + "</br>"
                  + temp.lastName + "</br>"
                  + temp.age + "</br>");
                }
                document.write("</br>");
            }
            else if (groupBy == 'firstName') {
                var result = persons.sort(function (a, b) {
                    var nameA = a.firstName.toLowerCase(), nameB = b.firstName.toLowerCase()
                    if (nameA < nameB) {
                        return -1;
                    }
                    if (nameA > nameB) {
                        return 1;
                    }
                    return 0;
                });
                for (var i = 0; i < result.length; i++) {
                    var temp = PersonBuilder(result[i].firstName, result[i].lastName, result[i].age);
                    document.write(temp.firstName + "</br>"
                  + temp.lastName + "</br>"
                  + temp.age + "</br>");
                }
                document.write("</br>");

            }
            else if (groupBy == 'age') {
                var result = persons.sort(function (a, b) {
                    return a.age - b.age
                });
                for (var i = 0; i < result.length; i++) {
                    var temp = PersonBuilder(result[i].firstName, result[i].lastName, result[i].age);
                    document.write(temp.firstName + "</br>"
                  + temp.lastName + "</br>"
                  + temp.age + "</br>");
                }
                document.write("</br>");

            }
            else if (groupBy == 'lastName') {
                var result = persons.sort(function (a, b) {
                    var nameA = a.lastName.toLowerCase(), nameB = b.lastName.toLowerCase()
                    if (nameA < nameB) {
                        return -1;
                    }
                    if (nameA > nameB) {
                        return 1;
                    }
                    return 0;
                });

                for (var i = 0; i < result.length; i++) {
                    var temp = PersonBuilder(result[i].firstName, result[i].lastName, result[i].age);
                    document.write(temp.firstName + "</br>"
                  + temp.lastName + "</br>"
                  + temp.age + "</br>");
                }
                document.write("</br>");

            }

        }

        var persons = [
            PersonBuilder('Gosho', 'Petrov', 71),
            PersonBuilder('Bay', 'Ivan', 21)];

        Group(persons);
        Group(persons, "age");
        Group(persons, "firstName");
        Group(persons, 'lastName');

        </script>
</body>
</html>
